{% extends 'base.html' %}

{% block content %}

{% load static %}

<div class="container-fluid user-select-none mt-4" style="max-width: 1200px;">
  <div class="card mx-auto border-light">
    <div class="card-header h3 shadow">
      Filtres
    </div>
    <form method="POST">
      {% csrf_token %}
      <div class="row d-flex justify-content-center" style="margin: 0">
        <div class="col-xl-3 px-3 m-3">
          {{ job_choices_form }}
        </div>
        <div class="col-xl-3 px-3 m-3">
          {{ region_choices_form }}
        </div>
        <div class="col-xl-2 px-3 m-3 d-flex justify-content-center align-items-end">
          <button type="submit" class="btn btn-secondary bg-dark-subtle" style="width: 120px;">
            Filtrer
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light">
    <div class="card-header h2 shadow">
      Votre dashboard personnalisé
    </div>
    <div class="row m-1 d-flex justify-content-center">
      <div class="col-xxl-4 p-3 d-flex align-items-center justify-content-center my-3">
        <div class="row">
          <div class="px-4">
            <p style="text-align: justify;">Bienvenue sur le dashboard personnalisé. Cette page vous permet d'avoir une vue plus précise sur un métier ou une région en particulier. Vous pourrez ainsi suivre l'évolution des technologies, offres d'emploi et salaires quel que soit le lieu !</p>
            <p style="text-align: justify;">Lorsqu'une légende est visible, vous pouvez intéragir avec pour faire disparaitre et apparaitre des éléments. </p>
            <p style="text-align: justify;">La sélection des filtres représente <b>{{ jobs_count_insight }} emplois</b>.</p>
            <p style="text-align: justify;">Pour rappel, les salaires sont récupérés depuis le <b>1er décembre 2023</b> et ne sont pas renseignés par la majorité des entreprises. Pour ce dashboard, le salaire médian est retenu, si vous choisissez une région le salaire moyen apparaîtra également.</p>
          </div>
        </div>
      </div>
      <div class="col-xxl-8 p-0 my-3 d-flex align-items-start justify-content-center">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Évolution du nombre d'offres d'emploi
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-line-charts-button" type="button" class="dashboard-line-charts" data-bs-toggle="modal" data-bs-target="#dashboard-line-charts1">
                <img class="img-fluid dashboard-line-charts" src="{% static dashboard_linechart_jobs_evolution %}" alt="Linechart évolution des offres d'emploi" onerror="handleImageError('dashboard-line-charts-button', 'error_dashboard_linechart_jobs_evolution');">
              </div>
              
              <div class="modal" id="dashboard-line-charts1" tabindex="-1" aria-labelledby="dashboard-line-charts-label1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-line-charts-modal-size" id="items-container">
                  <div class="modal-content dashboard-line-charts-scoll-tree rounded-0">
                    <img class="dashboard-line-charts p-2" src="{% static dashboard_linechart_jobs_evolution %}" alt="Linechart évolution des offres d'emploi"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_linechart_jobs_evolution" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-line-charts" data-bs-toggle="modal" data-bs-target="#dashboard-line-charts2">
                <img class="img-fluid dashboard-line-charts" src="{% static 'static/charts/dashboard_linechart_jobs_evolution.png' %}" alt="Linechart évolution des offres d'emploi">
              </div>
              
              <div class="modal" id="dashboard-line-charts2" tabindex="-1" aria-labelledby="dashboard-line-charts2-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-line-charts-modal-size" id="items-container">
                  <div class="modal-content dashboard-line-charts-scoll-tree rounded-0">
                    <img class="dashboard-line-charts p-2" src="{% static 'static/charts/dashboard_linechart_jobs_evolution.png' %}" alt="Linechart évolution des offres d'emploi"> 
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>    
    </div>
  </div>
</div>

<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light w-100">
    <div class="card-header h2 shadow">
      Les technos en hausse (Trimestre précédent vs celui d'avant)
    </div>
    <div class="row m-1 d-flex justify-content-center" style="margin: 0">
      <div class="col-xxl-6 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Les plus fortes hausses
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-top20-plus-chart-button" type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos1">
                <img class="img-fluid dashboard-top-technos" src="{% static dashboard_top20_plus_chart %}" alt="Top 20 technos en hausse barchart" onerror="handleImageError('dashboard-top20-plus-chart-button', 'error_dashboard_top20_plus_chart');">
              </div>
              
              <div class="modal" id="dashboard-top-technos1" tabindex="-1" aria-labelledby="dashboard-top-technos-label1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static dashboard_top20_plus_chart %}" alt="Top 20 technos en hausse barchart"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_top20_plus_chart" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos2">
                <img class="img-fluid dashboard-top-technos" src="{% static 'static/charts/dashboard_top20_plus_chart.png' %}" alt="Top 20 technos en hausse barchart">
              </div>
              
              <div class="modal" id="dashboard-top-technos2" tabindex="-1" aria-labelledby="dashboard-top-technos2-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static 'static/charts/dashboard_top20_plus_chart.png' %}" alt="Top 20 technos en hausse barchart">
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="col-xxl-6 d-flex align-items-start justify-content-center my-3 ">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Avec le nombre de demandes
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-top20-plus-table-button" type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos3">
                <img class="img-fluid dashboard-top-technos" src="{% static dashboard_top20_plus_table %}" alt="Top 20 technos en hausse table" onerror="handleImageError('dashboard-top20-plus-table-button', 'error_dashboard_top20_plus_table');">
              </div>
              
              <div class="modal" id="dashboard-top-technos3" tabindex="-1" aria-labelledby="dashboard-top-technos-label3" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static dashboard_top20_plus_table %}" alt="Top 20 technos en hausse table"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_top20_plus_table" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos4">
                <img class="img-fluid dashboard-top-technos" src="{% static 'static/charts/dashboard_top20_plus_table.png' %}" alt="Top 20 technos en hausse table">
              </div>
              
              <div class="modal" id="dashboard-top-technos4" tabindex="-1" aria-labelledby="dashboard-top-technos4-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static 'static/charts/dashboard_top20_plus_table.png' %}" alt="Top 20 technos en hausse table">
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light w-100">
    <div class="card-header h2 shadow">
      Les technos en baisse (Trimestre précédent vs celui d'avant)
    </div>
    <div class="row m-1 d-flex justify-content-center">
      <div class="col-xxl-6 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Les plus fortes baisses
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-top20-moins-chart-button" type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos5">
                <img class="img-fluid dashboard-top-technos" src="{% static dashboard_top20_moins_chart %}" alt="Top 20 technos en baisse barchart" onerror="handleImageError('dashboard-top20-moins-chart-button', 'error_dashboard_top20_moins_chart');">
              </div>
              
              <div class="modal" id="dashboard-top-technos5" tabindex="-1" aria-labelledby="dashboard-top-technos-label5" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static dashboard_top20_moins_chart %}" alt="Top 20 technos en baisse barchart"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_top20_moins_chart" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos6">
                <img class="img-fluid dashboard-top-technos" src="{% static 'static/charts/dashboard_top20_moins_chart.png' %}" alt="Top 20 technos en baisse barchart">
              </div>
              
              <div class="modal" id="dashboard-top-technos6" tabindex="-1" aria-labelledby="dashboard-top-technos6-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static 'static/charts/dashboard_top20_moins_chart.png' %}" alt="Top 20 technos en baisse barchart">
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="col-xxl-6 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Avec le nombre de demandes
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-top20-moins-table-button" type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos7">
                <img class="img-fluid dashboard-top-technos" src="{% static dashboard_top20_moins_table %}" alt="Top 20 technos en baisse table" onerror="handleImageError('dashboard-top20-moins-table-button', 'error_dashboard_top20_moins_table');">
              </div>
              
              <div class="modal" id="dashboard-top-technos7" tabindex="-1" aria-labelledby="dashboard-top-technos-label7" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static dashboard_top20_moins_table %}" alt="Top 20 technos en baisse table"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_top20_moins_table" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-top-technos" data-bs-toggle="modal" data-bs-target="#dashboard-top-technos8">
                <img class="img-fluid dashboard-top-technos" src="{% static 'static/charts/dashboard_top20_moins_table.png' %}" alt="Top 20 technos en baisse table">
              </div>
              
              <div class="modal" id="dashboard-top-technos8" tabindex="-1" aria-labelledby="dashboard-top-technos8-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-top-technos-modal-size" id="items-container">
                  <div class="modal-content dashboard-top-technos-scoll-tree rounded-0">
                    <img class="dashboard-top-technos p-2" src="{% static 'static/charts/dashboard_top20_moins_table.png' %}" alt="Top 20 technos en baisse table">
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light w-100">
    <div class="card-header h2 shadow">
      Salaires
    </div>
    <div class="row mt-3 mx-3">
      <p class="alert alert-warning" style="text-align: justify;">
        Les informations de salaire sont récupérées depuis le 1er décembre 2023. Elles sont rarement renseignées par les entreprises et ne constituent pas un critère fiable, cela permet de donner une idée sur la fourchette des salaires. Les données vont gagner en fiabilité au fil des mois, je tente de mettre en place en parallèle un système qui prend en compte l'ancienneté demandée. 
      </p>
    </div>
    <div class="row m-1 d-flex justify-content-center">
      {% if post_bool == True %}
        {% if one_region_salary_bool == True %}
          <div class="col-xxl-6 d-flex align-items-start justify-content-center">
            <div class="row">
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Salaire médian
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">
                <div id="dashboard-med-one-region-table-button" type="button" class="dashboard-salaire-median" data-bs-toggle="modal" data-bs-target="#dashboard-med-one-region-table-modal">
                  <img class="img-fluid dashboard-salaire-median" src="{% static dashboard_med_salary_one_region_table %}" alt="Top 20 technos en baisse barchart" onerror="handleImageError('dashboard-med-one-region-table-button', 'error_dashboard_med_salary_one_region_table');">
                </div>
                
                <div class="modal" id="dashboard-med-one-region-table-modal" tabindex="-1" aria-labelledby="dashboard-med-one-region-table-modal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-scrollable dashboard-salaire-median-modal-size" id="items-container">
                    <div class="modal-content dashboard-salaire-median-scoll-tree rounded-0">
                      <img class="dashboard-salaire-median p-2" src="{% static dashboard_med_salary_one_region_table %}" alt="Top 20 technos en baisse barchart"> 
                    </div>
                  </div>
                </div>
                
                <div class="alert alert-danger" role="alert" id="error_dashboard_med_salary_one_region_table" style="display: none;">
                  Aucune donnée pour ce graphique avec les choix de filtre.
                </div>
              </div>
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Salaire moyen
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">
                <div id="dashboard-avg-one-region-table-button" type="button" class="dashboard-salaire-median" data-bs-toggle="modal" data-bs-target="#dashboard-avg-one-region-table-modal">
                  <img class="img-fluid dashboard-salaire-median" src="{% static dashboard_avg_salary_one_region_table %}" alt="Top 20 technos en baisse barchart" onerror="handleImageError('dashboard-avg-one-region-table-button', 'error_dashboard_avg_salary_one_region_table');">
                </div>
                
                <div class="modal" id="dashboard-avg-one-region-table-modal" tabindex="-1" aria-labelledby="dashboard-avg-one-region-table-modal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-scrollable dashboard-salaire-median-modal-size" id="items-container">
                    <div class="modal-content dashboard-salaire-median-scoll-tree rounded-0">
                      <img class="dashboard-salaire-median p-2" src="{% static dashboard_avg_salary_one_region_table %}" alt="Top 20 technos en baisse barchart"> 
                    </div>
                  </div>
                </div>
                
                <div class="alert alert-danger" role="alert" id="error_dashboard_avg_salary_one_region_table" style="display: none;">
                  Aucune donnée pour ce graphique avec les choix de filtre.
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <div class="col-xxl-6 d-flex align-items-start justify-content-center">
            <div class="row">
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Salaire médian
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">
                <div id="dashboard-med-all-region-table-button" type="button" class="dashboard-salaire-median" data-bs-toggle="modal" data-bs-target="#dashboard-med-all-region-table-modal">
                  <img class="img-fluid dashboard-salaire-median" src="{% static dashboard_med_salary_all_regions_table %}" alt="Top 20 technos en baisse barchart" onerror="handleImageError('dashboard-med-all-region-table-button', 'error_dashboard_med_salary_all_regions_table');">
                </div>
                
                <div class="modal" id="dashboard-med-all-region-table-modal" tabindex="-1" aria-labelledby="dashboard-med-all-region-table-modal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-scrollable dashboard-salaire-median-modal-size" id="items-container">
                    <div class="modal-content dashboard-salaire-median-scoll-tree rounded-0">
                      <img class="dashboard-salaire-median p-2" src="{% static dashboard_med_salary_all_regions_table %}" alt="Top 20 technos en baisse barchart"> 
                    </div>
                  </div>
                </div>
                
                <div class="alert alert-danger" role="alert" id="error_dashboard_med_salary_all_regions_table" style="display: none;">
                  Aucune donnée pour ce graphique avec les choix de filtre.
                </div>
              </div>
            </div>
          </div>
        {% endif %}
        {% if too_soon_salary_bool == True %}
          <div class="col-xxl-6 d-flex align-items-start justify-content-center">
            <div class="row">
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Évolution du salaire médian global
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">
                <div class="alert alert-secondary" role="alert">
                  Les données de salaire étant récupérées depuis le 1er décembre 2023, il faut un minimum de deux mois complets pour débuter une courbe d'évolution. N'hésitez pas à revenir le mois prochain.
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <div class="col-xxl-6 d-flex align-items-start justify-content-center">
            <div class="row">
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Évolution du salaire médian
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">

                <div id="dashboard-evol-all-region-table-button" type="button" class="dashboard-salaire-median" data-bs-toggle="modal" data-bs-target="#dashboard-evol-all-region-table-modal">
                  <img class="img-fluid dashboard-salaire-median" src="{% static dashboard_median_salary_global_evolution %}" alt="Top 20 technos en baisse barchart" onerror="handleImageError('dashboard-evol-all-region-table-button', 'error_dashboard_median_salary_global_evolution');">
                </div>
                
                <div class="modal" id="dashboard-evol-all-region-table-modal" tabindex="-1" aria-labelledby="dashboard-evol-all-region-table-modal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-scrollable dashboard-salaire-median-modal-size" id="items-container">
                    <div class="modal-content dashboard-salaire-median-scoll-tree rounded-0">
                      <img class="dashboard-salaire-median p-2" src="{% static dashboard_median_salary_global_evolution %}" alt="Top 20 technos en baisse barchart"> 
                    </div>
                  </div>
                </div>
                
                <div class="alert alert-danger" role="alert" id="error_dashboard_median_salary_global_evolution" style="display: none;">
                  Aucune donnée pour ce graphique avec les choix de filtre.
                </div>
              </div>
            </div>
          </div>
        {% endif %}
      {% else %}
        <div class="col-xxl-6 d-flex align-items-start justify-content-center">
          <div class="row">
            <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
              Salaire médian par région
            </div>
            <div class="col-12 px-4 pb-4 d-flex justify-content-center">
              <div type="button" class="dashboard-salaire-median" data-bs-toggle="modal" data-bs-target="#dashboard-salaire-median">
                <img class="img-fluid dashboard-salaire-median" src="{% static 'static/charts/dashboard_med_salary_all_regions_table.png' %}" alt="Salaire médian par région">
              </div>
              
              <div class="modal" id="dashboard-salaire-median" tabindex="-1" aria-labelledby="dashboard-salaire-median-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-salaire-median-modal-size" id="items-container">
                  <div class="modal-content dashboard-salaire-median-scoll-tree rounded-0">
                    <img class="dashboard-salaire-median p-2" src="{% static 'static/charts/dashboard_med_salary_all_regions_table.png' %}" alt="Salaire médian par région">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% if too_soon_salary_bool == True %}
          <div class="col-xxl-6 d-flex align-items-start justify-content-center">
            <div class="row">
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Évolution du salaire médian global
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">
                <div class="alert alert-secondary" role="alert">
                  Les données de salaire étant récupérées depuis le 1er décembre 2023, il faut un minimum de deux mois complets pour débuter une courbe d'évolution. N'hésitez pas à revenir le mois prochain.
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <div class="col-xxl-6 d-flex align-items-start justify-content-center">
            <div class="row">
              <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
                Évolution du salaire médian global
              </div>
              <div class="col-12 px-4 pb-4 d-flex justify-content-center">
                <div type="button" class="dashboard-salaire-median" data-bs-toggle="modal" data-bs-target="#dashboard-salaire-median2">
                  <img class="img-fluid dashboard-salaire-median" src="{% static 'static/charts/dashboard_median_salary_global_evolution.png' %}" alt="Évolution du salaire médian global">
                </div>
                
                <div class="modal" id="dashboard-salaire-median2" tabindex="-1" aria-labelledby="dashboard-salaire-median2-label" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-scrollable dashboard-salaire-median-modal-size" id="items-container">
                    <div class="modal-content dashboard-salaire-median-scoll-tree rounded-0">
                      <img class="dashboard-salaire-median p-2" src="{% static 'static/charts/dashboard_median_salary_global_evolution.png' %}" alt="Évolution du salaire médian global">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endif %}
      {% endif %}
    </div>
  </div>
</div>

<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light w-100">
    <div class="card-header h2 shadow">
      Providers cloud
    </div>
    <div class="row m-1 d-flex justify-content-center">
      <div class="col-xxl-8 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Évolution de la demande par provider
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-linechart-cloud-button" type="button" class="dashboard-line-charts" data-bs-toggle="modal" data-bs-target="#dashboard-cloud-linecharts">
                <img class="img-fluid dashboard-line-charts" src="{% static dashboard_cloud_providers_evolution %}" alt="Line chart providers cloud" onerror="handleImageError('dashboard-linechart-cloud-button', 'error_dashboard_cloud_providers_evolution');">
              </div>
              
              <div class="modal" id="dashboard-cloud-linecharts" tabindex="-1" aria-labelledby="dashboard-cloud-linecharts-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-line-charts-modal-size" id="items-container">
                  <div class="modal-content dashboard-line-charts-scoll-tree rounded-0">
                    <img class="dashboard-line-charts p-2" src="{% static dashboard_cloud_providers_evolution %}" alt="Line chart providers cloud"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_cloud_providers_evolution" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-line-charts" data-bs-toggle="modal" data-bs-target="#dashboard-line-charts4">
                <img class="img-fluid dashboard-line-charts" src="{% static 'static/charts/dashboard_cloud_providers_evolution.png' %}" alt="Line chart providers cloud">
              </div>
              
              <div class="modal" id="dashboard-line-charts4" tabindex="-1" aria-labelledby="dashboard-line-charts4-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-line-charts-modal-size" id="items-container">
                  <div class="modal-content dashboard-line-charts-scoll-tree rounded-0">
                    <img class="dashboard-line-charts p-2" src="{% static 'static/charts/dashboard_cloud_providers_evolution.png' %}" alt="Line chart providers cloud">
                  </div>
                </div>
              </div>    
            {% endif %}
          </div>
        </div>
      </div>
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Répartition sur le mois précédent
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-donut-cloud-button" type="button" class="dashboard-donut-chart" data-bs-toggle="modal" data-bs-target="#dashboard-donut-chart">
                <img class="img-fluid dashboard-donut-chart" src="{% static dashboard_donut_providers_cloud %}" alt="Donut chart providers cloud" onerror="handleImageError('dashboard-donut-cloud-button', 'error_dashboard_donut_providers_cloud');">
              </div>
              
              <div class="modal" id="dashboard-donut-chart" tabindex="-1" aria-labelledby="dashboard-donut-chart-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-donut-chart-modal-size" id="items-container">
                  <div class="modal-content dashboard-donut-chart-scoll-tree rounded-0">
                    <img class="dashboard-donut-chart p-2" src="{% static dashboard_donut_providers_cloud %}" alt="Donut chart providers cloud"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_donut_providers_cloud" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}       
              <div type="button" class="dashboard-donut-chart" data-bs-toggle="modal" data-bs-target="#dashboard-donut-chart2">
                <img class="img-fluid dashboard-donut-chart" src="{% static 'static/charts/dashboard_donut_providers_cloud.png' %}" alt="Donut chart providers cloud">
              </div>
              
              <div class="modal" id="dashboard-donut-chart2" tabindex="-1" aria-labelledby="dashboard-donut-chart2-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-donut-chart-modal-size" id="items-container">
                  <div class="modal-content dashboard-donut-chart-scoll-tree rounded-0">
                    <img class="dashboard-donut-chart p-2" src="{% static 'static/charts/dashboard_donut_providers_cloud.png' %}" alt="Donut chart providers cloud">
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light w-100">
    <div class="card-header h2 shadow">
      Les top sur les 3 derniers mois
    </div>
    <div class="row m-1 d-flex justify-content-center">
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Technologies demandées
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-technotable-3m-button" type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables1">
                <img class="img-fluid dashboard-tables" src="{% static dashboard_techno_3m_table %}" alt="Tableau top technos demandées les trois derniers mois" onerror="handleImageError('dashboard-technotable-3m-button', 'error_dashboard_techno_3m_table');">
              </div>
              
              <div class="modal" id="dashboard-tables1" tabindex="-1" aria-labelledby="dashboard-tables-label1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static dashboard_techno_3m_table %}" alt="Tableau top technos demandées les trois derniers mois"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_techno_3m_table" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables2">
                <img class="img-fluid dashboard-tables" src="{% static 'static/charts/dashboard_techno_3m_table.png' %}" alt="Tableau top technos demandées les trois derniers mois">
              </div>
              
              <div class="modal" id="dashboard-tables2" tabindex="-1" aria-labelledby="dashboard-tables2-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static 'static/charts/dashboard_techno_3m_table.png' %}" alt="Tableau top technos demandées les trois derniers mois">
                  </div>
                </div>
              </div>   
            {% endif %}
          </div>       
        </div>
      </div>
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Villes qui recrutent
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-technotable-3m-button3" type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables3">
                <img class="img-fluid dashboard-tables" src="{% static dashboard_ville_3m_table %}" alt="Tableau top villes demandées les trois derniers mois" onerror="handleImageError('dashboard-technotable-3m-button3', 'error_dashboard_ville_3m_table3');">
              </div>
              
              <div class="modal" id="dashboard-tables3" tabindex="-1" aria-labelledby="dashboard-tables-label3" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static dashboard_ville_3m_table %}" alt="Tableau top villes demandées les trois derniers mois"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_ville_3m_table3" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}    
              <div type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables4">
                <img class="img-fluid dashboard-tables" src="{% static 'static/charts/dashboard_ville_3m_table.png' %}" alt="Tableau top villes demandées les trois derniers mois">
              </div>
              
              <div class="modal" id="dashboard-tables4" tabindex="-1" aria-labelledby="dashboard-tables4-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static 'static/charts/dashboard_ville_3m_table.png' %}" alt="Tableau top villes demandées les trois derniers mois">
                  </div>
                </div>
              </div>      
            {% endif %}
          </div>       
        </div>
      </div>
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Entreprises qui recrutent
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-technotable-3m-button5" type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables5">
                <img class="img-fluid dashboard-tables" src="{% static dashboard_entreprise_3m_table %}" alt="Tableau top entreprises demandées les trois derniers mois" onerror="handleImageError('dashboard-technotable-3m-button5', 'error_dashboard_entreprise_3m_table5');">
              </div>
              
              <div class="modal" id="dashboard-tables5" tabindex="-1" aria-labelledby="dashboard-tables-label5" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static dashboard_entreprise_3m_table %}" alt="Tableau top entreprises demandées les trois derniers mois"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_entreprise_3m_table5" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}  
              <div type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables6">
                <img class="img-fluid dashboard-tables" src="{% static 'static/charts/dashboard_entreprise_3m_table.png' %}" alt="Tableau top entreprises demandées les trois derniers mois">
              </div>
              
              <div class="modal" id="dashboard-tables6" tabindex="-1" aria-labelledby="dashboard-tables6-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static 'static/charts/dashboard_entreprise_3m_table.png' %}" alt="Tableau top entreprises demandées les trois derniers mois">
                  </div>
                </div>
              </div>          
            {% endif %}
          </div>       
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid user-select-none my-5" style="max-width: 1800px;">
  <div class="card mx-auto border-light w-100 ">
    <div class="card-header h2 shadow">
      Les top sur les 12 derniers mois
    </div>
    <div class="row m-1 d-flex justify-content-center">
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Technologies demandées
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-technotable-12m-button7" type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables7">
                <img class="img-fluid dashboard-tables" src="{% static dashboard_techno_table_12m %}" alt="Tableau top entreprises demandées les douze derniers mois" onerror="handleImageError('dashboard-technotable-12m-button7', 'error_dashboard_techno_table_12m7');">
              </div>
              
              <div class="modal" id="dashboard-tables7" tabindex="-1" aria-labelledby="dashboard-tables-label7" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static dashboard_techno_table_12m %}" alt="Tableau top entreprises demandées les douze derniers mois"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_techno_table_12m7" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}    
              <div type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables8">
                <img class="img-fluid dashboard-tables" src="{% static 'static/charts/dashboard_techno_table_12m.png' %}" alt="Tableau top technos demandées">
              </div>
              
              <div class="modal" id="dashboard-tables8" tabindex="-1" aria-labelledby="dashboard-tables8-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static 'static/charts/dashboard_techno_table_12m.png' %}" alt="Tableau top technos demandées">
                  </div>
                </div>
              </div>     
            {% endif %}
          </div>       
        </div>
      </div>
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Villes qui recrutent
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}
              <div id="dashboard-technotable-12m-button9" type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables9">
                <img class="img-fluid dashboard-tables" src="{% static dashboard_ville_table_12m %}" alt="Tableau top villes demandées les douze derniers mois" onerror="handleImageError('dashboard-technotable-12m-button9', 'error_dashboard_ville_table_12m9');">
              </div>
              
              <div class="modal" id="dashboard-tables9" tabindex="-1" aria-labelledby="dashboard-tables-label9" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static dashboard_ville_table_12m %}" alt="Tableau top villes demandées les douze derniers mois"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_ville_table_12m9" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}     
              <div type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables10">
                <img class="img-fluid dashboard-tables" src="{% static 'static/charts/dashboard_ville_table_12m.png' %}" alt="Tableau top villes demandées les douze derniers mois">
              </div>
              
              <div class="modal" id="dashboard-tables10" tabindex="-1" aria-labelledby="dashboard-tables10-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static 'static/charts/dashboard_ville_table_12m.png' %}" alt="Tableau top villes demandées les douze derniers mois">
                  </div>
                </div>
              </div>     
            {% endif %}
          </div>       
        </div>
      </div>
      <div class="col-xxl-4 d-flex align-items-start justify-content-center my-3">
        <div class="row">
          <div class="col-12 h5 my-3 d-flex justify-content-center text-center">
            Entreprises qui recrutent
          </div>
          <div class="col-12 px-4 pb-4 d-flex justify-content-center">
            {% if post_bool == True %}

              <div id="dashboard-technotable-12m-button11" type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables11">
                <img class="img-fluid dashboard-tables" src="{% static dashboard_entreprise_table_12m %}" alt="Tableau top entreprises demandées les douze derniers mois" onerror="handleImageError('dashboard-technotable-12m-button11', 'error_dashboard_entreprise_table_12m11');">
              </div>
              
              <div class="modal" id="dashboard-tables11" tabindex="-1" aria-labelledby="dashboard-tables-label11" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static dashboard_entreprise_table_12m %}" alt="Tableau top entreprises demandées les douze derniers mois"> 
                  </div>
                </div>
              </div>
              
              <div class="alert alert-danger" role="alert" id="error_dashboard_entreprise_table_12m11" style="display: none;">
                Aucune donnée pour ce graphique avec les choix de filtre.
              </div>
            {% else %}
              <div type="button" class="dashboard-tables" data-bs-toggle="modal" data-bs-target="#dashboard-tables12">
                <img class="img-fluid dashboard-tables" src="{% static 'static/charts/dashboard_entreprise_table_12m.png' %}" alt="ableau top entreprises demandées les douze derniers mois">
              </div>
              
              <div class="modal" id="dashboard-tables12" tabindex="-1" aria-labelledby="dashboard-tables12-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable dashboard-tables-modal-size" id="items-container">
                  <div class="modal-content dashboard-tables-scoll-tree rounded-0 d-flex align-items-center justify-content-center">
                    <img class="dashboard-tables p-2" src="{% static 'static/charts/dashboard_entreprise_table_12m.png' %}" alt="ableau top entreprises demandées les douze derniers mois">
                  </div>
                </div>
              </div>         
            {% endif %}
          </div>       
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}


